<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: aws | My Octopress Blog]]></title>
  <link href="http://parasnarang.github.io/blog/blog/categories/aws/atom.xml" rel="self"/>
  <link href="http://parasnarang.github.io/blog/"/>
  <updated>2013-06-04T06:10:04+05:30</updated>
  <id>http://parasnarang.github.io/blog/</id>
  <author>
    <name><![CDATA[Paras Narang]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Internet not working on Amazon EC2 Ubuntu instance]]></title>
    <link href="http://parasnarang.github.io/blog/blog/2012/02/03/internet-not-working-on-amazon-ec2/"/>
    <updated>2012-02-03T13:56:00+05:30</updated>
    <id>http://parasnarang.github.io/blog/blog/2012/02/03/internet-not-working-on-amazon-ec2</id>
    <content type="html"><![CDATA[<div class='post'>
<div dir="ltr" style="text-align: left;" trbidi="on">After <a href="http://colorlessgem.blogspot.com/2012/01/ubuntu-micro-instance-on-amazon-ec2.html" target="_blank">launching</a> the EC2 instance, which used Ubuntu 11.10 32bit EBS AMI, I wasn't able to connect to the internet.<br /><blockquote class="tr_bq"><span style="background-color: #f7f7f7; font-family: verdana, arial, sans-serif; font-size: 12px; line-height: 18px; text-align: -webkit-auto;">ubuntu@ip-xx-xx-xx-xx:~$ ping google.com</span><br /><span style="background-color: #f7f7f7; font-family: verdana, arial, sans-serif; font-size: 12px; line-height: 18px; text-align: -webkit-auto;">PING google.com (74.125.113.103) 56(84) bytes of data.</span><br /><span style="background-color: #f7f7f7; font-family: verdana, arial, sans-serif; font-size: 12px; line-height: 18px; text-align: -webkit-auto;">^C</span><br /><span style="background-color: #f7f7f7; font-family: verdana, arial, sans-serif; font-size: 12px; line-height: 18px; text-align: -webkit-auto;">google.com ping statistics ---</span><br /><span style="background-color: #f7f7f7; font-family: verdana, arial, sans-serif; font-size: 12px; line-height: 18px; text-align: -webkit-auto;">311 packets transmitted, 0 received, 100% packet loss, time 310000ms</span></blockquote>The DNS was fine.<br />I checked the security group for that instance. HTTP inbound connections were allowed. So no problem there.<br />The /etc/resolv.conf file was also in order.<br /><blockquote class="tr_bq"><span style="background-color: #f7f7f7; font-family: verdana, arial, sans-serif; font-size: 12px; line-height: 18px; text-align: -webkit-auto;">ubuntu@ip-xx-xx-xx-xx:~$ cat /etc/resolv.conf</span><br /><span style="background-color: #f7f7f7; font-family: verdana, arial, sans-serif; font-size: 12px; line-height: 18px; text-align: -webkit-auto;">domain ec2.internal</span><br /><span style="background-color: #f7f7f7; font-family: verdana, arial, sans-serif; font-size: 12px; line-height: 18px; text-align: -webkit-auto;">search ec2.internal</span><br /><span style="background-color: #f7f7f7; font-family: verdana, arial, sans-serif; font-size: 12px; line-height: 18px; text-align: -webkit-auto;">nameserver 172.16.0.23</span></blockquote>Finally, I asked the AWS guys in the forum for help. [<a href="https://forums.aws.amazon.com/thread.jspa?messageID=316370" target="_blank">Thread</a>]<br />A simple suggestion solved my problem, though I have no clue why!<br /><br />All I had to do was stop the instance and then start it again. Just be careful that you have data backup before stopping the instance. As all your data on that instance will be lost unless you take a snapshot of the volume or have some other form of backup.<br /><br />In short, Stop/Start did the trick.<br /><blockquote class="tr_bq"></blockquote></div></div>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Ubuntu micro instance on Amazon EC2]]></title>
    <link href="http://parasnarang.github.io/blog/blog/2012/01/24/ubuntu-micro-instance-on-amazon-ec2/"/>
    <updated>2012-01-24T12:59:00+05:30</updated>
    <id>http://parasnarang.github.io/blog/blog/2012/01/24/ubuntu-micro-instance-on-amazon-ec2</id>
    <content type="html"><![CDATA[<div class='post'>
<div dir="ltr" style="text-align: left;" trbidi="on"><span style="font-family: 'Trebuchet MS', sans-serif;">I am going to use <a href="http://aws.amazon.com/" target="_blank">AWS</a> (Amazon Web Services) for hosting my website and blog.</span><br /><span style="font-family: 'Trebuchet MS', sans-serif;">This blog post will cover some steps that I followed and notes that I made while setting up AWS.</span><br /><span style="font-family: 'Trebuchet MS', sans-serif;"><a href="http://aws.amazon.com/" target="_blank">Amazon EC2</a> is Amazon Elastic Compute Cloud.</span><br /><span style="font-family: 'Trebuchet MS', sans-serif;"><br /></span><br /><span style="color: orange; font-family: 'Trebuchet MS', sans-serif; font-size: large;"><b>Step 1.</b>&nbsp;</span><br /><span style="font-family: 'Trebuchet MS', sans-serif;">Go to&nbsp;<a href="http://aws.amazon.com/">aws.amazon.com</a> and signup for an AWS account.&nbsp;</span><span style="font-family: 'Trebuchet MS', sans-serif;">You will have to enter your credit card details.</span><br /><span style="font-family: 'Trebuchet MS', sans-serif;">Also, you are required to verify your account by answering to a phone call. But in my case, Amazon's phone verification system was giving an error.</span><br /><blockquote class="tr_bq"><span style="font-family: 'Trebuchet MS', sans-serif;"><span style="background-color: rgba(255, 255, 255, 0.917969); color: #222222; text-align: -webkit-auto;">System Error</span></span>&nbsp;</blockquote><blockquote class="tr_bq"><span style="background-color: rgba(255, 255, 255, 0.917969); color: #222222; font-family: 'Trebuchet MS', sans-serif; text-align: -webkit-auto;">We are unable to process your phone verification request at this time please try again later.</span></blockquote><span style="background-color: rgba(255, 255, 255, 0.917969); color: #222222; font-family: 'Trebuchet MS', sans-serif; text-align: -webkit-auto;">So, I opened an inquiry ticket. This is the reply I got from them</span><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-Cm1qifu-spQ/TyTs8suFvOI/AAAAAAAAA2A/0hRAVFl34N4/s1600/Your+Amazon+Web+Services+Inquiry+++narangparas+gmail.com+++Gmail.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-Cm1qifu-spQ/TyTs8suFvOI/AAAAAAAAA2A/0hRAVFl34N4/s1600/Your+Amazon+Web+Services+Inquiry+++narangparas+gmail.com+++Gmail.png" /></a></div><div style="text-align: -webkit-auto;"><span style="color: #222222; font-family: 'Trebuchet MS', sans-serif;"><br /></span></div><span style="background-color: rgba(255, 255, 255, 0.917969); color: #222222; font-family: 'Trebuchet MS', sans-serif; text-align: -webkit-auto;">Using the call me now feature, I got a call from Amazon customer care. After some talking, the operator verified my account manually.&nbsp;</span><br /><span style="background-color: rgba(255, 255, 255, 0.917969); color: #222222; font-family: 'Trebuchet MS', sans-serif; text-align: -webkit-auto;"><br /></span><br /><span style="background-color: rgba(255, 255, 255, 0.917969); color: orange; font-family: 'Trebuchet MS', sans-serif; font-size: large; text-align: -webkit-auto;"><b>Step 2.&nbsp;</b></span><br /><span style="background-color: rgba(255, 255, 255, 0.917969); color: #222222; font-family: 'Trebuchet MS', sans-serif; text-align: -webkit-auto;">Log in to <a href="http://aws.amazon.com/console" target="_blank">AWS console</a>.&nbsp;</span><span style="background-color: rgba(255, 255, 255, 0.917969); color: #222222; font-family: 'Trebuchet MS', sans-serif; text-align: -webkit-auto;">Go to EC2 page.</span><br /><span style="background-color: rgba(255, 255, 255, 0.917969); color: #222222; font-family: 'Trebuchet MS', sans-serif; text-align: -webkit-auto;">click <b>Launch an instance</b></span><br /><div style="text-align: -webkit-auto;"><span style="color: #222222; font-family: 'Trebuchet MS', sans-serif;">select <b>Launch classical wizard</b></span><br /><span style="color: #222222; font-family: 'Trebuchet MS', sans-serif;"><b><br /></b></span></div><div style="text-align: -webkit-auto;"><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-cCMCkRjFbTc/TyTslRfZCHI/AAAAAAAAA0I/FS29GWX9zIE/s1600/2.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/-cCMCkRjFbTc/TyTslRfZCHI/AAAAAAAAA0I/FS29GWX9zIE/s1600/2.png" /></a></div><span style="color: #222222; font-family: 'Trebuchet MS', sans-serif;"><br /></span></div><div style="text-align: -webkit-auto;"><span style="color: orange; font-family: 'Trebuchet MS', sans-serif; font-size: large;"><b>Step 3.</b></span></div><div style="text-align: -webkit-auto;"><span style="color: #222222; font-family: 'Trebuchet MS', sans-serif;">Now we have to choose an <a href="http://aws.amazon.com/amis" target="_blank">AMI</a>. AMI is Amazon Machine Image.</span></div><div style="text-align: -webkit-auto;"><span style="color: #222222; font-family: 'Trebuchet MS', sans-serif;">I will go for a *nix based AMI rather than a Windows based one for obvious reasons (performance, support, cost).</span></div><div style="text-align: -webkit-auto;"><span style="font-family: 'Trebuchet MS', sans-serif;">We can choose a Community AMI as well.&nbsp;</span><a href="http://alestic.com/" style="font-family: 'Trebuchet MS', sans-serif;">http://alestic.com/</a><span style="font-family: 'Trebuchet MS', sans-serif;">&nbsp;has Ubuntu AMIs.</span></div><span style="font-family: 'Trebuchet MS', sans-serif;">I will run Ubuntu 11.10 server EBS Boot 32-bit, so I chose<b> ami-6ba27502.</b></span><br /><span style="font-family: 'Trebuchet MS', sans-serif;">You can choose any that you want. </span><br /><div style="text-align: left;"><span style="font-family: 'Trebuchet MS', sans-serif; text-align: -webkit-auto;">Go to Community AMIs and choose the AMI that suits you.</span><br /><span style="font-family: 'Trebuchet MS', sans-serif; text-align: -webkit-auto;"><br /></span></div><div style="text-align: -webkit-auto;"><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-5FraaoaYeFg/TyTwAeWfZhI/AAAAAAAAA2w/6YV4eWhQMEc/s1600/three.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-5FraaoaYeFg/TyTwAeWfZhI/AAAAAAAAA2w/6YV4eWhQMEc/s1600/three.png" /></a></div><div style="text-align: left;"><span style="font-family: 'Trebuchet MS', sans-serif;"><span style="line-height: 17px;"><br /></span></span></div></div><div style="text-align: -webkit-auto;"><span style="color: orange; font-size: large;"><b>Step 4.</b></span></div><div style="text-align: -webkit-auto;">Instance details</div><div style="text-align: -webkit-auto;">Micro (t1.mocre, 613MB)</div><div style="text-align: -webkit-auto;">Availability zone: No preference</div><div style="text-align: -webkit-auto;"><br /></div><div style="text-align: -webkit-auto;"><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-Fdl9YTBwTGQ/TyTv8OlIZOI/AAAAAAAAA2Y/4vPqWhHyiDE/s1600/four.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-Fdl9YTBwTGQ/TyTv8OlIZOI/AAAAAAAAA2Y/4vPqWhHyiDE/s1600/four.png" /></a></div><br /></div><div style="text-align: -webkit-auto;">Made no changes in the next screen.</div><div style="text-align: -webkit-auto;">Choose any <a href="http://docs.amazonwebservices.com/AWSEC2/latest/UserGuide/Using_Tags.html" target="_blank">tags</a><br /><br /></div><div style="text-align: -webkit-auto;"><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-s4Pru_B4MqU/TyTv7dUFROI/AAAAAAAAA2Q/aRDCqKDgVT4/s1600/five.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/-s4Pru_B4MqU/TyTv7dUFROI/AAAAAAAAA2Q/aRDCqKDgVT4/s1600/five.png" /></a></div><br /></div><div style="text-align: -webkit-auto;"><span style="color: orange; font-size: large;"><b>Step 5.</b></span></div><div style="text-align: -webkit-auto;">Create a keypair</div><div style="text-align: -webkit-auto;"><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-tQFRjElHNLQ/TyTv-2btv1I/AAAAAAAAA2o/l0YDXNtc4kM/s1600/six.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/-tQFRjElHNLQ/TyTv-2btv1I/AAAAAAAAA2o/l0YDXNtc4kM/s1600/six.png" /></a></div><br /></div><div style="text-align: -webkit-auto;"><span style="color: orange; font-size: large;"><b>Step 6.</b></span></div><div style="text-align: -webkit-auto;">Configure the Firewall</div><div style="text-align: -webkit-auto;">Enable SSH and HTTP for sure. Rest all depend on your requirement.</div><div style="text-align: -webkit-auto;"><span s=""><br /></span></div><div style="text-align: -webkit-auto;">Review</div><div style="text-align: -webkit-auto;"><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-zAXqkXH1-0o/TyTv-GcjROI/AAAAAAAAA2g/qmrt2OIul4o/s1600/seven.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-zAXqkXH1-0o/TyTv-GcjROI/AAAAAAAAA2g/qmrt2OIul4o/s1600/seven.png" /></a></div></div><div style="text-align: -webkit-auto;"><div style="text-align: left;">This is my final configuration</div></div><div style="text-align: -webkit-auto;"><div style="text-align: left;"><br /></div></div><div style="text-align: -webkit-auto;">click <b>LAUNCH</b></div><div style="text-align: -webkit-auto;"><br /></div><div style="text-align: -webkit-auto;"><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-UAIqmNvl1XY/TyTv6vLVD4I/AAAAAAAAA2I/NBubUVmxwvA/s1600/eight.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/-UAIqmNvl1XY/TyTv6vLVD4I/AAAAAAAAA2I/NBubUVmxwvA/s1600/eight.png" /></a></div><br /></div><div style="text-align: -webkit-auto;"><div style="text-align: center;"><b><span style="color: orange;">Congratulations, you have successfully launched the instance!</span></b></div><b><br /></b></div><div style="text-align: -webkit-auto;"><span style="color: orange; font-size: large;"><b>Step 7.</b></span></div><div style="text-align: -webkit-auto;"><span style="background-color: white; color: #202020; font-family: 'Trebuchet MS', sans-serif; line-height: 22px;">The EBS volume should automatically get linked to this instance, but if it doesn't, click on <b>Volumes</b> on the left hand side of the console and then <b>Attach volume</b>.</span></div><div style="text-align: -webkit-auto;"><span style="background-color: white; color: #202020; font-family: 'Trebuchet MS', sans-serif; line-height: 22px;"><br /></span></div><div style="text-align: -webkit-auto;"><span style="background-color: white; color: orange; font-family: 'Trebuchet MS', sans-serif; font-size: large; line-height: 22px;"><b>Step 8.</b></span></div><div style="text-align: -webkit-auto;"><span style="background-color: white; color: #202020; font-family: 'Trebuchet MS', sans-serif; line-height: 22px;">Attach <b>Elastic IP</b> address to this instance. Click <b>Elastic IPs</b>&nbsp;in the left menu, then <b>Associate</b>.</span></div><div style="text-align: -webkit-auto;"><span style="background-color: white; color: #202020; font-family: 'Trebuchet MS', sans-serif; line-height: 22px;"><br /></span></div><div style="text-align: -webkit-auto;"><span style="background-color: white; color: orange; font-family: 'Trebuchet MS', sans-serif; font-size: large; line-height: 22px;"><b>Step 9.</b></span></div><div style="text-align: -webkit-auto;"><span style="background-color: white; color: #202020; font-family: 'Trebuchet MS', sans-serif; line-height: 22px;">The keypair that you had downloaded. Move it to ~/.ssh. Do the following</span><br /><blockquote class="tr_bq"><span style="background-color: white; color: #202020; line-height: 22px;"><span style="font-family: 'Courier New', Courier, monospace;">mv ~/Downloads/paraskey.pem ~/.ssh</span></span><span style="background-color: white; color: #202020; line-height: 22px;"><span style="font-family: 'Courier New', Courier, monospace;">cd ~/.ssh</span></span><span style="background-color: white; color: #202020; line-height: 22px;"><span style="font-family: 'Courier New', Courier, monospace;">chmod 400 paraskey.pem</span></span><span style="background-color: white; color: #202020; line-height: 22px;"><span style="font-family: 'Courier New', Courier, monospace;">ssh-add paraskey.pem</span></span></blockquote></div><div style="text-align: -webkit-auto;"><span style="background-color: white; color: #202020; font-family: 'Trebuchet MS', sans-serif; line-height: 22px;">The default user for this instance is <b>ubuntu</b>. If you are using one of the default AMIs, the user can also be <b>ec2-user</b>.</span></div><div style="text-align: -webkit-auto;"><span style="background-color: white; color: #202020; font-family: 'Trebuchet MS', sans-serif; line-height: 22px;"><br /></span></div><div style="text-align: -webkit-auto;"><span style="background-color: white; color: orange; font-family: 'Trebuchet MS', sans-serif; font-size: large; line-height: 22px;"><b>Step 10.</b></span></div><div style="text-align: -webkit-auto;"><span style="background-color: white; color: #202020; font-family: 'Trebuchet MS', sans-serif; line-height: 22px;">Now, to ssh into the instance from your computer,</span></div><div style="text-align: -webkit-auto;"><span style="background-color: white; font-family: 'Trebuchet MS', sans-serif;"></span></div><blockquote class="tr_bq"><span style="color: #202020;"><span style="font-family: 'Courier New', Courier, monospace; line-height: 22px;">ssh -vv -i ~/.ssh/paraskey.pem ubuntu@xxx.xxx.xxx.xxx</span></span></blockquote><span style="color: #202020;"><span style="font-family: 'Trebuchet MS', sans-serif; line-height: 22px;">(here </span><span style="font-family: 'Courier New', Courier, monospace; line-height: 22px;">xxx.xxx.xxx.xxx</span><span style="font-family: 'Trebuchet MS', sans-serif; line-height: 22px;"> is the elastic IP associated with your instance)</span></span><br /><span style="color: #202020;"><span style="font-family: 'Trebuchet MS', sans-serif; line-height: 22px;">If you see this after above,</span></span><br /><span style="color: #202020; font-family: 'Trebuchet MS', sans-serif;"></span><br /><blockquote class="tr_bq"><span style="color: #202020;"><span style="font-family: 'Courier New', Courier, monospace; line-height: 22px;">ubuntu@ip-yyy-yyy-yyy-yyy:~$&nbsp;</span></span></blockquote><div style="line-height: 22px;"><span style="color: #202020; font-family: 'Trebuchet MS', sans-serif;">This means you have successfully logged into your EC2 instance!&nbsp;</span></div><div style="line-height: 22px;"><span style="color: #202020; font-family: 'Trebuchet MS', sans-serif;"><br /></span></div><div style="line-height: 22px;"><span style="color: #202020; font-family: 'Trebuchet MS', sans-serif;">Now you can install/run whatever software you want on this instance.</span></div><div style="line-height: 22px;"><span style="color: #202020; font-family: 'Trebuchet MS', sans-serif;">Be sure to take backups and snapshots of the volume before terminating the instance otherwise you will lose all your data!</span><br /><span style="color: #202020; font-family: 'Trebuchet MS', sans-serif;"><br /></span><br /><span style="color: #202020; font-family: 'Trebuchet MS', sans-serif;">Hope it helps. Enjoy!</span></div></div></div>

]]></content>
  </entry>
  
</feed>
